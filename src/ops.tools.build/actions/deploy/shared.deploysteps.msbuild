<?xml version="1.0" encoding="utf-8"?>
<Project
    ToolsVersion="14.0"
    xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <PropertyGroup>
        <!-- Defines whether the current script file has been loaded / imported or not -->
        <!-- Note the current script is not meant to be imported! -->
        <ExistsOpsToolsBuildDeploySteps>true</ExistsOpsToolsBuildDeploySteps>
    </PropertyGroup>

    <PropertyGroup>
        <DeployStepsPrepareFileHashes>$(MSBuildThisFileDirectory)..\shared.prepare.getfilehashes.msbuild</DeployStepsPrepareFileHashes>
        <DeployStepsPushToDockerRepository>$(MSBuildThisFileDirectory)deploy.pushto.docker.repository.msbuild</DeployStepsPushToDockerRepository>
    </PropertyGroup>
    <ItemGroup Condition=" '$(ShouldLoadAvailableStepMetadata)' == 'true' ">
        <AvailableStepMetadata Include="$([System.IO.Path]::GetFileName('$(DeployStepsPrepareFileHashes)'))">
            <Description>
                Calculate the hash of one or more files.
            </Description>
            <Id>DeployStepsPrepareFileHashes</Id>
            <Name>Deploy - calculate file hashes</Name>
            <Path>$(DeployStepsPrepareFileHashes)</Path>
        </AvailableStepMetadata>
    </ItemGroup>
    <ItemGroup Condition=" '$(ShouldLoadAvailableStepMetadata)' == 'true' ">
        <AvailableStepMetadata Include="$([System.IO.Path]::GetFileName('$(DeployStepsPushToDockerRepository)'))">
            <Description>
                Push zero or more Docker containers to a Docker repository.
            </Description>
            <Id>DeployStepsPushToDockerRepository</Id>
            <Name>Deploy - push to a Docker repository</Name>
            <Path>$(DeployStepsPushToDockerRepository)</Path>
        </AvailableStepMetadata>
    </ItemGroup>
</Project>
